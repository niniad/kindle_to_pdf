# Kindle Capture Desktop App Task List

- [ ] プロジェクト構成のセットアップ
    - [ ] `requirements.txt` の更新 (`customtkinter`, `pyautogui`, `mss`, `img2pdf`, `opencv-python`, `pywin32`)
    - [ ] 仮想環境の再構築 (必要な場合)
- [ ] UIの実装 (`gui.py`) - `customtkinter` 使用
    - [ ] メインウィンドウ設定 (ダークモード)
    - [ ] アスペクト比選択ドロップダウンの実装
    - [ ] 設定入力欄 (ファイル名, ページ送り方向, 待機時間)
    - [ ] アクションボタン (範囲選択, 開始, 停止, PDF保存)
    - [ ] ステータス表示 (撮影枚数, ログ)
- [ ] キャプチャロジックの実装 (`capture_engine.py`)
    - [ ] **範囲選択機能**: 
        - [ ] アスペクト比固定モードの実装
        - [ ] 自由選択モードの実装
    - [ ] **自動撮影ループ**:
        - [ ] スクリーンショット取得
        - [ ] 画像比較によるページ遷移検知/終了判定
        - [ ] **重複画像の自動削除処理**
        - [ ] キー送信 (矢印キー)
- [ ] PDF生成ロジック (`pdf_generator.py`)
    - [ ] 画像リストからのPDF作成
    - [ ] ファイルサイズ制限 (200MB) に基づく分割保存
- [ ] 統合と動作検証
    - [ ] Kindleアプリでの実動作テスト (1ページ表示でのテスト推奨)
